{
  "builds": [
    {
      "src": "thapargpt-frontend",
      "use": "nixpacks",
      "config": {
        "buildCommand": "npm install && npm run build",
        "startCommand": "npm start",
        "outputDirectory": "build",
        "nodeVersion": "18.x"
      }
    },
    {
      "src": "backend",
      "use": "nixpacks",
      "config": {
        "startCommand": "node server.js",
        "nodeVersion": "18.x"
      }
    }
  ],
  "routes": [
    {
      "handle": "frontend",
      "src": "/*",
      "dest": "/thapargpt-frontend"
    },
    {
      "handle": "api",
      "src": "/api/*",
      "dest": "/backend",
      "continue": true
    }
  ],
  "variables": {
    "FRONTEND_PORT": "3000",
    "BACKEND_PORT": "5000"
  }
}